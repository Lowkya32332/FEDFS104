<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Function Types Demo</title>
</head>
<body>
    <h2>JavaScript Function Types Demo</h2>
    <button onclick="runDeclaration()">Function Declaration</button>
    <button onclick="runExpression()">Function Expression</button>
    <button onclick="runArrow()">Arrow Function</button>
    <button onclick="runAnonymous()">Anonymous Function</button>
    <button onclick="runIIFE()">IIFE</button>
    <button onclick="runConstructor()">Constructor Function</button>
    <button onclick="runGenerator()">Generator Function</button>
    <button onclick="runAsync()">Async Function</button>
    <div id="output">Output will appear here...</div>

    <script>
        const outputDiv = document.getElementById("output");

        function show(msg) {
            outputDiv.innerText += msg + "\n";
        }

        function clearOutput() {
            outputDiv.innerText = "";
        }

        // 1. Function Declaration
        function calculateTotal(price, tax) {
            return price + (price * tax);
        }

        function runDeclaration() {
            clearOutput();
            show("Total = " + calculateTotal(100, 0.05));
        }

        // 2. Function Expression
        const greetUser = function(name){
            return Welcome, ${name}!;
        };
        function runExpression(){
            clearOutput();
            show(greetUser("Hemasri"));
        }

        // 3. Arrow Function
        const tasks = ["Work", "Sleep", "Exercise", "Study"];
        const shortTasks = tasks.filter(task => task.length <= 5);
        function runArrow(){
            clearOutput();
            show("Tasks: " + shortTasks.join(", "));
        }

        // 4. Anonymous Function
        function runAnonymous(){
            clearOutput();
            setTimeout(function() {
                show("Reminder: take a break !!!");
            },1000);
        }

        // 5. IIFE
        function runIIFE() {
            clearOutput();
            (function() {
                const secretToken = "erty345678utasdfghv";
                show("IIFE executed securely, token hidden!");
            })();
        }

        // 6. Constructor Function
        function User(name, role){
            this.name = name;
            this.role = role;
        }
        function runConstructor(){
            clearOutput();
            const user1 = new User("Hemasri", "Student");
            show(user1.name + " - " + user1.role);
        }

        // 7. Generator Function
        function* numberGenerator(){
            yield 1;
            yield 2;
            yield 3;
        }
        function runGenerator(){
            clearOutput();
            const gen = numberGenerator();
            for(let num of gen){
                show("Generated: " + num);
            }
        }

        // 8. Async Function
        async function fetchMessage(){
            return new Promise(resolve => {
                setTimeout(() => resolve("Async function executed!"), 1000);
            });
        }
        async function runAsync(){
            clearOutput();
            const msg = await fetchMessage();
            show(msg);
        }
    </script>
</body>
</html>